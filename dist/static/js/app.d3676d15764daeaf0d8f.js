webpackJsonp([7,8],{138:function(e,t,n){n(149);var u=n(21)(n(175),n(145),null,null);e.exports=u.exports},143:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("h1",[e._v("猜电影")]),e._v(" "),n("screen",{attrs:{images:e.newImg,rightAnswer:e.currentFilm.movie,answerText:!e.answerShow}}),e._v(" "),e.answerShow?n("answer",{attrs:{iHeight:e.imgHeight,movie:e.currentFilm.movie,picId:e.currentFilm.objectId}}):e._e(),e._v(" "),n("upload",{attrs:{login:e.userName}}),e._v(" "),n("div",{staticClass:"v-foot-nav"},[n("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v(" "),e.userName?e._e():n("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),e.userName?n("router-link",{attrs:{to:"/user"}},[e._v(e._s(e.userName))]):e._e()],1)],1)},staticRenderFns:[]}},144:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",[n("home")],1)},staticRenderFns:[]}},145:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-screen"},[n("div",{staticClass:"v-img"},[n("img",{staticClass:"v-scr",attrs:{src:e.images}}),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-loading-demo",staticStyle:{position:"absolute"}})]),e._v(" "),e.answerText?n("el-input",{directives:[{name:"model",rawName:"v-model",value:e.filmName,expression:"filmName"}],attrs:{placeholder:"请输入电影名称",number:!0,size:"large"},domProps:{value:e.filmName},on:{input:function(t){e.filmName=t}},nativeOn:{keyup:function(t){e._k(t.keyCode,"enter",13)||e.enterAnswer(t)}}},[n("el-button",{nativeOn:{click:function(t){e.enterAnswer(t)}},slot:"append"},[e._v("确定&跳过")])],1):e._e()],1)},staticRenderFns:[]}},146:function(e,t){},147:function(e,t){},148:function(e,t){},149:function(e,t){},174:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(42),a=u(i);t.default={name:"app",components:{home:a.default}}},175:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(146),a=(u(i),n(22)),o=(u(a),n(108)),s=u(o),r=n(43),l=u(r);t.default={created:function(){l.default.$on("get-new",this.clearFilm),l.default.$on("loading",this.scrLoading)},beforeDestroy:function(){l.default.$off("get-new",this.clearFilm),l.default.$off("loading",this.scrLoading)},mounted:function(){var e=this,t=document.getElementsByClassName("v-scr")[0];t.onload=function(){e.loading=!1,l.default.$emit("screen-height",t.height)}},data:function(){return{filmName:"",message:"",loading:!1}},props:["images","answerText","rightAnswer","userid"],methods:{enterAnswer:function(){this.filmName?(this.answerMatch(this.filmName,this.rightAnswer.title,this.rightAnswer.original_title)?(this.notify(1,this.ranMessage(1)),this.gameLog("right")):(this.notify(0,this.ranMessage(),"error"),this.gameLog()),l.default.$emit("answer-show",!0)):l.default.$emit("get-new")},answerMatch:function(e,t,n){function u(e,t){return e.length<=3?e===t:Boolean(e.search(t)+1)&&t.length>=3}function i(e,t){return e.length>1&&(e.length<=5?e.toLowerCase()===t.toLowerCase():Boolean(e.search(RegExp(t,"i"))+1)&&t.length>=6)}this.regcn=function(e){return e.replace(/[^\u4e00-\u9fa5]/g,"")},this.regen=function(e){return e.replace(/[^a-z]/i,"")};var a=u(this.regcn(t),this.regcn(e))||i(this.regen(n),this.regen(e));return a},notify:function(e,t,n){(0,s.default)({title:e?"答对啦！":"答错了！",message:t,type:n||"success"})},ranMessage:function(e){var t=void 0;t=e?["厉害了我的哥，这都能猜对！","大哥，你这是蒙对的吧！","哎呦！不错哦！下一题还能猜对么？","6翻了，无敌是多么寂寞！","就你牛逼！","我不相信这是你猜对的，除非你亲我一下！","又对了，你咋不上天呢！"]:["猜不中了吧，要加油啊！","这都没猜对，蓝瘦，香菇！","这一题我闭着眼睛都能猜对！","前辈！在下对你的答案有不同的看法！","你这么回答是什么意思？","对方不想和你说话，并向你丢了一个正确答案！"];var n=Math.floor(Math.random()*t.length);return t[n]},gameLog:function(e){if(this.userid){var t="gamelog/"+this.userid,n={result:e};l.default.get(t,n,function(e){})}},clearFilm:function(){this.filmName=""},scrLoading:function(e){this.loading=e}}}},176:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(104),a=u(i),o=n(138),s=u(o),r=n(43),l=u(r);t.default={created:function(){l.default.$on("get-new",this.getNewFilm),l.default.$on("answer-show",this.showAnswer),l.default.$on("screen-height",this.resetHeight)},beforeDestroy:function(){l.default.$off("get-new",this.getNewFilm),l.default.$off("answer-show",this.showAnswer),l.default.$off("screen-height",this.resetHeight)},mounted:function(){this.getCount(),this.loginStatus()},data:function(){return{currentFilm:{},answerShow:!1,imgHeight:0,userName:"",userObid:"",pageCount:""}},components:{screen:s.default,answer:function(e){n.e(4).then(function(){var t=[n(182)];e.apply(null,t)}.bind(this)).catch(n.oe)},upload:function(e){n.e(0).then(function(){var t=[n(183)];e.apply(null,t)}.bind(this)).catch(n.oe)}},methods:{getCount:function(){var e=this,t="getCount";l.default.get(t,{},function(t){e.pageCount=t.count,e.getNewFilm()})},loginStatus:function(){var e=this,t="loginstatus";l.default.get(t,{},function(t){e.userName=t.name,e.userObid=t.obid})},getNewFilm:function(){var e=this;l.default.$emit("loading",!0);var t="rd-pic",n={rdNum:this.getRandom()};l.default.get(t,n,function(t){e.currentFilm=t.results[0]})},showAnswer:function(e){e?this.answerShow=!0:this.answerShow=!1},resetHeight:function(e){this.imgHeight=e},getRandom:function(){var e=l.default.storage().get("RANDOM_ARRAY");if(e){var t="["+e+"]";return this.sendRandom(JSON.parse(t))}return this.initRandom()},initRandom:function(){for(var e=[],t=0;t<this.pageCount;t++)e.push(t);return l.default.storage().set("RANDOM_ARRAY",e),this.sendRandom(e)},sendRandom:function(e){if(!e.length)return this.initRandom();var t=function(){var t=Math.floor(Math.random()*e.length);return window.setTimeout(function(){e.splice(t,1),l.default.storage().set("RANDOM_ARRAY",e)},50),{v:e[t]}}();return"object"===("undefined"==typeof t?"undefined":(0,a.default)(t))?t.v:void 0}},computed:{newImg:function(){return this.currentFilm.images?this.currentFilm.images+"-large":""}}}},179:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var i=n(95),a=(u(i),n(76)),o=u(a),s=n(82),r=(u(s),n(64)),l=u(r),f=n(86),c=(u(f),n(67)),d=u(c),h=n(87),g=(u(h),n(68)),m=u(g),v=n(92),p=(u(v),n(73)),w=u(p),_=n(93),b=(u(_),n(74)),N=u(b),y=n(88),M=(u(y),n(69)),R=u(M),A=n(91),F=(u(A),n(72)),$=u(F),C=n(94),x=(u(C),n(75)),O=u(x),S=n(81),L=(u(S),n(63)),k=u(L),H=n(85),I=(u(H),n(66)),j=u(I),P=n(89),D=(u(P),n(70)),E=u(D),T=n(80),B=(u(T),n(62)),Y=u(B),z=n(90),J=(u(z),n(71)),q=u(J),G=n(83),K=(u(G),n(65)),Q=u(K),U=n(79),V=(u(U),n(20)),W=u(V),X=n(84),Z=(u(X),n(28)),ee=u(Z),te=n(78),ne=(u(te),n(22)),ue=(u(ne),n(50)),ie=u(ue),ae=n(1),oe=u(ae),se=n(77),re=u(se),le=n(96),fe=u(le),ce=n(41),de=u(ce);oe.default.use(de.default),oe.default.use(ie.default),oe.default.use(ee.default),oe.default.use(W.default),oe.default.use(Q.default),oe.default.use(q.default),oe.default.use(Y.default),oe.default.use(E.default),oe.default.use(j.default),oe.default.use(k.default),oe.default.use(O.default),oe.default.use($.default),oe.default.use(R.default),oe.default.use(N.default),oe.default.use(w.default),oe.default.use(m.default),oe.default.use(d.default),oe.default.use(l.default),oe.default.use(o.default),oe.default.use(fe.default);var he=function(e){return Promise.resolve().then(function(){var t=[n(42)];e.apply(null,t)}.bind(this)).catch(n.oe)},ge=function(e){return n.e(3).then(function(){var t=[n(140)];e.apply(null,t)}.bind(this)).catch(n.oe)},me=function(e){return n.e(5).then(function(){var t=[n(139)];e.apply(null,t)}.bind(this)).catch(n.oe)},ve=function(e){return n.e(2).then(function(){var t=[n(141)];e.apply(null,t)}.bind(this)).catch(n.oe)},pe=function(e){return n.e(1).then(function(){var t=[n(142)];e.apply(null,t)}.bind(this)).catch(n.oe)},we=[{path:"/",component:he},{path:"/datalist",component:ge},{path:"/about",component:me},{path:"/login",component:ve},{path:"/user",component:pe}],_e=new fe.default({routes:we});new oe.default({el:"#app",router:_e,render:function(e){return e(re.default)}})},22:function(e,t){},42:function(e,t,n){n(147);var u=n(21)(n(176),n(143),null,null);e.exports=u.exports},43:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=u(i),o=n(41),s=u(o);a.default.use(s.default);var r="/",l=function(e,t,n){a.default.http.get(""+r+e,{params:t}).then(function(e){200===e.status?n(e.body):console.log(e.status)})},f=function(e,t,n){a.default.http.post(""+r+e,t).then(function(e){200===e.status?n(e.body):console.log(e.status)})},c=function(){return{set:function(e,t){window.sessionStorage.setItem(e,t)},get:function(e){return window.sessionStorage.getItem(e)},remove:function(e){window.sessionStorage.removeItem(e)}}},d=new a.default;d.path=r,d.get=l,d.post=f,d.storage=c,t.default=d},77:function(e,t,n){n(148);var u=n(21)(n(174),n(144),null,null);e.exports=u.exports},78:function(e,t){},79:function(e,t){},80:function(e,t){},81:function(e,t){},82:function(e,t){},83:function(e,t){},84:function(e,t){},85:function(e,t){},86:function(e,t){},87:function(e,t){},88:function(e,t){},89:function(e,t){},90:function(e,t){},91:function(e,t){},92:function(e,t){},93:function(e,t){},94:function(e,t){},95:function(e,t){}},[179]);