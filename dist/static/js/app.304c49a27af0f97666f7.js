webpackJsonp([8,6],{0:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var i=n(105),a=(u(i),n(140)),o=u(a),r=n(90),s=(u(r),n(120)),f=u(s),l=n(94),d=(u(l),n(125)),c=u(d),h=n(95),g=(u(h),n(126)),m=u(g),p=n(102),v=(u(p),n(137)),w=u(v),_=n(103),y=(u(_),n(138)),b=u(y),R=n(98),N=(u(R),n(130)),F=u(N),M=n(101),A=(u(M),n(136)),$=u(A),C=n(104),x=(u(C),n(139)),O=u(x),S=n(89),j=(u(S),n(119)),L=u(j),k=n(93),H=(u(k),n(122)),I=u(H),D=n(99),E=(u(D),n(132)),P=u(E),T=n(88),B=(u(T),n(118)),Y=u(B),z=n(100),J=(u(z),n(133)),q=u(J),G=n(91),K=(u(G),n(121)),Q=u(K),U=n(87),V=(u(U),n(35)),W=u(V),X=n(92),Z=(u(X),n(36)),ee=u(Z),te=n(86),ne=(u(te),n(11)),ue=(u(ne),n(56)),ie=u(ue),ae=n(2),oe=u(ae),re=n(221),se=u(re),fe=n(166),le=u(fe),de=n(55),ce=u(de);oe.default.use(ce.default),oe.default.use(ie.default),oe.default.use(ee.default),oe.default.use(W.default),oe.default.use(Q.default),oe.default.use(q.default),oe.default.use(Y.default),oe.default.use(P.default),oe.default.use(I.default),oe.default.use(L.default),oe.default.use(O.default),oe.default.use($.default),oe.default.use(F.default),oe.default.use(b.default),oe.default.use(w.default),oe.default.use(m.default),oe.default.use(c.default),oe.default.use(f.default),oe.default.use(o.default),oe.default.use(le.default);var he=function(e){return!function(){var t=[n(76)];e.apply(null,t)}.call(this)},ge=function(e){return n.e(3,function(t){var n=[t(234)];e.apply(null,n)}.bind(this))},me=function(e){return n.e(5,function(t){var n=[t(233)];e.apply(null,n)}.bind(this))},pe=function(e){return n.e(2,function(t){var n=[t(235)];e.apply(null,n)}.bind(this))},ve=function(e){return n.e(1,function(t){var n=[t(236)];e.apply(null,n)}.bind(this))},we=[{path:"/",component:he},{path:"/datalist",component:ge},{path:"/about",component:me},{path:"/login",component:pe},{path:"/user",component:ve}],_e=new le.default({routes:we});new oe.default({el:"#app",router:_e,render:function(e){return e(se.default)}})},10:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=u(i),o=n(55),r=u(o);a.default.use(r.default);var s="/",f=function(e,t,n){a.default.http.get(""+s+e,{params:t}).then(function(e){200===e.status?n(e.body):console.log(e.status)})},l=function(e,t,n){a.default.http.post(""+s+e,t).then(function(e){200===e.status?n(e.body):console.log(e.status)})},d=function(){return{set:function(e,t){window.sessionStorage.setItem(e,t)},get:function(e){return window.sessionStorage.getItem(e)},remove:function(e){window.sessionStorage.removeItem(e)}}},c=new a.default;c.path=s,c.get=f,c.post=l,c.storage=d,t.default=c},11:function(e,t){},76:function(e,t,n){var u,i;n(115),u=n(215);var a=n(251);i=u=u||{},"object"!=typeof u.default&&"function"!=typeof u.default||(i=u=u.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=u},86:function(e,t){},87:function(e,t){},88:function(e,t){},89:function(e,t){},90:function(e,t){},91:function(e,t){},92:function(e,t){},93:function(e,t){},94:function(e,t){},95:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){},100:function(e,t){},101:function(e,t){},102:function(e,t){},103:function(e,t){},104:function(e,t){},105:function(e,t){},108:function(e,t){},113:function(e,t){},115:function(e,t){},202:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(76),a=u(i);t.default={name:"app",components:{home:a.default}}},209:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(97),a=(u(i),n(11)),o=(u(a),n(128)),r=u(o),s=n(10),f=u(s);t.default={created:function(){f.default.$on("get-new",this.clearFilm),f.default.$on("loading",this.scrLoading)},beforeDestroy:function(){f.default.$off("get-new",this.clearFilm),f.default.$off("loading",this.scrLoading)},mounted:function(){var e=this,t=document.getElementsByClassName("v-scr")[0];t.onload=function(){e.loading=!1,f.default.$emit("screen-height",t.height)}},data:function(){return{filmName:"",message:"",loading:!1}},props:["images","answerText","rightAnswer","userid"],methods:{enterAnswer:function(){this.filmName?(this.answerMatch(this.filmName,this.rightAnswer.title,this.rightAnswer.original_title)?(this.notify(1,this.ranMessage(1)),this.gameLog("right")):(this.notify(0,this.ranMessage(),"error"),this.gameLog()),f.default.$emit("answer-show",!0)):f.default.$emit("get-new")},answerMatch:function(e,t,n){function u(e,t){return e.length<=3?e===t:Boolean(e.search(t)+1)&&t.length>=3}function i(e,t){return e.length>1&&(e.length<=5?e.toLowerCase()===t.toLowerCase():Boolean(e.search(RegExp(t,"i"))+1)&&t.length>=6)}this.regcn=function(e){return e.replace(/[^\u4e00-\u9fa5]/g,"")},this.regen=function(e){return e.replace(/[^a-z]/i,"")};var a=u(this.regcn(t),this.regcn(e))||i(this.regen(n),this.regen(e));return a},notify:function(e,t,n){(0,r.default)({title:e?"答对啦！":"答错了！",message:t,type:n||"success"})},ranMessage:function(e){var t=void 0;t=e?["厉害了我的哥，这都能猜对！","大哥，你这是蒙对的吧！","哎呦！不错哦！下一题还能猜对么？","6翻了，无敌是多么寂寞！","就你牛逼！","我不相信这是你猜对的，除非你亲我一下！","又对了，你咋不上天呢！"]:["猜不中了吧，要加油啊！","这都没猜对，蓝瘦，香菇！","这一题我闭着眼睛都能猜对！","前辈！在下对你的答案有不同的看法！","你这么回答是什么意思？","对方不想和你说话，并向你丢了一个正确答案！"];var n=Math.floor(Math.random()*t.length);return t[n]},gameLog:function(e){if(this.userid){var t="gamelog/"+this.userid,n={result:e};f.default.get(t,n,function(e){})}},clearFilm:function(){this.filmName=""},scrLoading:function(e){this.loading=e}}}},215:function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(75),a=u(i),o=n(228),r=u(o),s=n(10),f=u(s);t.default={created:function(){f.default.$on("get-new",this.getNewFilm),f.default.$on("answer-show",this.showAnswer),f.default.$on("screen-height",this.resetHeight)},beforeDestroy:function(){f.default.$off("get-new",this.getNewFilm),f.default.$off("answer-show",this.showAnswer),f.default.$off("screen-height",this.resetHeight)},mounted:function(){this.getCount(),this.loginStatus()},data:function(){return{currentFilm:{},answerShow:!1,imgHeight:0,userName:"",userObid:"",pageCount:""}},components:{screen:r.default,answer:function(e){n.e(4,function(t){var n=[t(222)];e.apply(null,n)}.bind(this))},upload:function(e){n.e(0,function(t){var n=[t(230)];e.apply(null,n)}.bind(this))}},methods:{getCount:function(){var e=this,t="getCount";f.default.get(t,{},function(t){e.pageCount=t.count,e.getNewFilm()})},loginStatus:function(){var e=this,t="loginstatus";f.default.get(t,{},function(t){e.userName=t.name,e.userObid=t.obid})},getNewFilm:function(){var e=this;f.default.$emit("loading",!0);var t="rd-pic",n={rdNum:this.getRandom()};f.default.get(t,n,function(t){e.currentFilm=t.results[0]})},showAnswer:function(e){e?this.answerShow=!0:this.answerShow=!1},resetHeight:function(e){this.imgHeight=e},getRandom:function(){var e=f.default.storage().get("RANDOM_ARRAY");if(e){var t="["+e+"]";return this.sendRandom(JSON.parse(t))}return this.initRandom()},initRandom:function(){for(var e=[],t=0;t<this.pageCount;t++)e.push(t);return f.default.storage().set("RANDOM_ARRAY",e),this.sendRandom(e)},sendRandom:function(e){if(!e.length)return this.initRandom();var t=function(){var t=Math.floor(Math.random()*e.length);return window.setTimeout(function(){e.splice(t,1),f.default.storage().set("RANDOM_ARRAY",e)},50),{v:e[t]}}();return"object"===("undefined"==typeof t?"undefined":(0,a.default)(t))?t.v:void 0}},computed:{newImg:function(){return this.currentFilm.images?this.currentFilm.images+"-large":""}}}},221:function(e,t,n){var u,i;n(108),u=n(202);var a=n(242);i=u=u||{},"object"!=typeof u.default&&"function"!=typeof u.default||(i=u=u.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=u},228:function(e,t,n){var u,i;n(113),u=n(209);var a=n(248);i=u=u||{},"object"!=typeof u.default&&"function"!=typeof u.default||(i=u=u.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=u},242:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",[n("home")],1)},staticRenderFns:[]}},248:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-screen"},[n("div",{staticClass:"v-img"},[n("img",{staticClass:"v-scr",attrs:{src:e.images}}),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-loading-demo",staticStyle:{position:"absolute"}})]),e._v(" "),e.answerText?n("el-input",{directives:[{name:"model",rawName:"v-model",value:e.filmName,expression:"filmName"}],attrs:{placeholder:"请输入电影名称",number:!0,size:"large"},domProps:{value:e.filmName},on:{input:function(t){e.filmName=t}},nativeOn:{keyup:function(t){e._k(t.keyCode,"enter",13)||e.enterAnswer(t)}}},[n("el-button",{nativeOn:{click:function(t){e.enterAnswer(t)}},slot:"append"},[e._v("确定&跳过")])],1):e._e()],1)},staticRenderFns:[]}},251:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap"},[n("h1",[e._v("猜电影")]),e._v(" "),n("screen",{attrs:{images:e.newImg,rightAnswer:e.currentFilm.movie,answerText:!e.answerShow}}),e._v(" "),e.answerShow?n("answer",{attrs:{iHeight:e.imgHeight,movie:e.currentFilm.movie,picId:e.currentFilm.objectId}}):e._e(),e._v(" "),n("upload",{attrs:{login:e.userName}}),e._v(" "),n("div",{staticClass:"v-foot-nav"},[n("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v(" "),e.userName?e._e():n("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),e.userName?n("router-link",{attrs:{to:"/user"}},[e._v(e._s(e.userName))]):e._e()],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.304c49a27af0f97666f7.js.map